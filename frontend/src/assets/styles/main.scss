@import './variables.scss';

// 全局样式重置
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  font-family: 'Microsoft YaHei', 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
  font-size: $font-size-md;
  line-height: 1.6;
  color: $text-primary;
  background-color: $background-color;
}

#app {
  height: 100%;
  display: flex;
  flex-direction: column;
}

// 通用样式类
.container {
  max-width: $container-max-width;
  margin: 0 auto;
  padding: 0 $spacing-md;

  @include responsive(md) {
    padding: 0 $spacing-lg;
  }
}

.page-container {
  flex: 1;
  padding: $spacing-lg 0;
}

.card {
  @include card-style;
  margin-bottom: $spacing-lg;
}

.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: $spacing-lg;
  padding-bottom: $spacing-md;
  border-bottom: 1px solid $border-color;

  h2 {
    font-size: $font-size-xl;
    font-weight: $font-weight-semibold;
    color: $text-primary;
  }
}

.section-title {
  font-size: $font-size-xxl;
  font-weight: $font-weight-bold;
  margin-bottom: $spacing-lg;
  color: $text-primary;
  border-bottom: 2px solid $primary-color;
  padding-bottom: $spacing-sm;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

.mb-sm { margin-bottom: $spacing-sm; }
.mb-md { margin-bottom: $spacing-md; }
.mb-lg { margin-bottom: $spacing-lg; }
.mb-xl { margin-bottom: $spacing-xl; }

.mt-sm { margin-top: $spacing-sm; }
.mt-md { margin-top: $spacing-md; }
.mt-lg { margin-top: $spacing-lg; }
.mt-xl { margin-top: $spacing-xl; }

.ml-sm { margin-left: $spacing-sm; }
.ml-md { margin-left: $spacing-md; }
.ml-lg { margin-left: $spacing-lg; }

.mr-sm { margin-right: $spacing-sm; }
.mr-md { margin-right: $spacing-md; }
.mr-lg { margin-right: $spacing-lg; }

// 按钮样式
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: $spacing-sm $spacing-md;
  border: none;
  border-radius: $border-radius-sm;
  font-size: $font-size-sm;
  font-weight: $font-weight-medium;
  text-decoration: none;
  cursor: pointer;
  transition: all $transition-fast;

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  &.btn-primary {
    background: $primary-gradient;
    color: $white;

    &:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: $shadow-md;
    }
  }

  &.btn-secondary {
    background: $white;
    color: $text-primary;
    border: 1px solid $border-color;

    &:hover:not(:disabled) {
      background: $background-color;
      border-color: $primary-color;
    }
  }

  &.btn-success {
    background: $success-color;
    color: $white;

    &:hover:not(:disabled) {
      background: darken($success-color, 10%);
    }
  }

  &.btn-warning {
    background: $warning-color;
    color: $white;

    &:hover:not(:disabled) {
      background: darken($warning-color, 10%);
    }
  }

  &.btn-danger {
    background: $error-color;
    color: $white;

    &:hover:not(:disabled) {
      background: darken($error-color, 10%);
    }
  }

  &.btn-large {
    padding: $spacing-md $spacing-lg;
    font-size: $font-size-md;
  }

  &.btn-small {
    padding: $spacing-xs $spacing-sm;
    font-size: $font-size-xs;
  }
}

// 徽章样式
.badge {
  display: inline-block;
  padding: $spacing-xs $spacing-sm;
  border-radius: 20px;
  font-size: $font-size-xs;
  font-weight: $font-weight-medium;

  &.badge-conservative {
    background: rgba($risk-conservative, 0.1);
    color: $risk-conservative;
  }

  &.badge-moderate {
    background: rgba($risk-moderate, 0.1);
    color: $risk-moderate;
  }

  &.badge-aggressive {
    background: rgba($risk-aggressive, 0.1);
    color: $risk-aggressive;
  }

  &.badge-success {
    background: rgba($success-color, 0.1);
    color: $success-color;
  }

  &.badge-warning {
    background: rgba($warning-color, 0.1);
    color: $warning-color;
  }

  &.badge-error {
    background: rgba($error-color, 0.1);
    color: $error-color;
  }
}

// 表单样式
.form-group {
  margin-bottom: $spacing-lg;

  label {
    display: block;
    margin-bottom: $spacing-sm;
    font-weight: $font-weight-medium;
    color: $text-primary;

    &.required::after {
      content: ' *';
      color: $error-color;
    }
  }

  .form-input {
    width: 100%;
    padding: $spacing-sm $spacing-md;
    border: 1px solid $border-color;
    border-radius: $border-radius-sm;
    font-size: $font-size-sm;
    transition: border-color $transition-fast;

    &:focus {
      outline: none;
      border-color: $primary-color;
      box-shadow: 0 0 0 2px rgba($primary-color, 0.1);
    }

    &.error {
      border-color: $error-color;
    }
  }

  .form-error {
    margin-top: $spacing-xs;
    font-size: $font-size-xs;
    color: $error-color;
  }
}

.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: $spacing-md;

  @include responsive(md) {
    grid-template-columns: repeat(2, 1fr);
  }

  @include responsive(lg) {
    grid-template-columns: repeat(3, 1fr);
  }
}

// 网格布局
.grid {
  display: grid;
  gap: $spacing-lg;

  &.grid-1 { grid-template-columns: 1fr; }
  &.grid-2 { grid-template-columns: repeat(2, 1fr); }
  &.grid-3 { grid-template-columns: repeat(3, 1fr); }
  &.grid-4 { grid-template-columns: repeat(4, 1fr); }

  @include responsive(md) {
    &.grid-md-2 { grid-template-columns: repeat(2, 1fr); }
    &.grid-md-3 { grid-template-columns: repeat(3, 1fr); }
    &.grid-md-4 { grid-template-columns: repeat(4, 1fr); }
  }

  @include responsive(lg) {
    &.grid-lg-2 { grid-template-columns: repeat(2, 1fr); }
    &.grid-lg-3 { grid-template-columns: repeat(3, 1fr); }
    &.grid-lg-4 { grid-template-columns: repeat(4, 1fr); }
  }
}

// 加载状态
.loading {
  @include flex-center;
  padding: $spacing-xl;
  color: $text-secondary;
}

// 空状态
.empty-state {
  @include flex-center;
  flex-direction: column;
  padding: $spacing-xxl;
  text-align: center;
  color: $text-secondary;

  .empty-icon {
    font-size: 48px;
    margin-bottom: $spacing-md;
    opacity: 0.5;
  }

  .empty-text {
    font-size: $font-size-lg;
    margin-bottom: $spacing-sm;
  }

  .empty-description {
    font-size: $font-size-sm;
    color: $text-disabled;
  }
}

// 响应式工具类
.hidden-sm { @include responsive(sm) { display: none; } }
.hidden-md { @include responsive(md) { display: none; } }
.hidden-lg { @include responsive(lg) { display: none; } }

.visible-sm { display: none; @include responsive(sm) { display: block; } }
.visible-md { display: none; @include responsive(md) { display: block; } }
.visible-lg { display: none; @include responsive(lg) { display: block; } }

// 动画
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}

.slide-in {
  animation: slideIn 0.3s ease-out;
}

// Element Plus 主题定制
:root {
  --el-color-primary: #{$primary-color};
  --el-color-success: #{$success-color};
  --el-color-warning: #{$warning-color};
  --el-color-danger: #{$error-color};
  --el-color-info: #{$info-color};

  --el-border-radius-base: #{$border-radius-sm};
  --el-border-radius-small: #{$border-radius-sm};
  --el-border-radius-round: #{$border-radius-md};

  --el-font-size-base: #{$font-size-sm};
  --el-font-size-small: #{$font-size-xs};
  --el-font-size-large: #{$font-size-md};
}
